<div class="min-h-screen bg-gradient-to-b from-orange-50 to-gray-100">
  <!-- Back Button -->
  <div class="bg-white shadow-sm sticky top-0 z-10">
    <div class="max-w-6xl mx-auto px-6 py-4">
      <button (click)="goBack()" class="flex items-center gap-2 text-orange-600 hover:text-orange-700 font-medium">
        <span>‚Üê</span> Back to Movies
      </button>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="flex justify-center items-center min-h-screen">
    <div class="text-center">
      <div class="inline-block animate-spin">
        <div class="w-12 h-12 border-4 border-orange-200 border-t-orange-600 rounded-full"></div>
      </div>
      <p class="mt-4 text-gray-600">Loading movie details...</p>
    </div>
  </div>

  <!-- Movie Details -->
  <div *ngIf="movie && !isLoading" class="max-w-6xl mx-auto px-6 py-8">
    <!-- Movie Header -->
    <div class="bg-white rounded-xl shadow-lg overflow-hidden mb-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 p-8">
        <!-- Poster -->
        <div class="md:col-span-1">
          <div class="bg-gradient-to-br from-gray-300 to-gray-400 rounded-lg h-96 flex items-center justify-center text-6xl">
            üé¨
          </div>
          <div class="mt-4 text-center">
            <div class="text-3xl font-bold text-orange-600">{{ movie.rating }}</div>
            <p class="text-gray-600">/ 5.0</p>
          </div>
        </div>

        <!-- Movie Info -->
        <div class="md:col-span-2">
          <h1 class="text-4xl font-bold text-gray-800 mb-2">{{ movie.title }}</h1>
          
          <div class="flex flex-wrap gap-4 mb-6">
            <span class="px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-medium">
              {{ movie.genre }}
            </span>
            <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium">
              {{ movie.language }}
            </span>
            <span class="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium">
              {{ getFormattedDuration(movie.duration) }}
            </span>
          </div>

          <div class="grid grid-cols-2 gap-4 mb-6 pb-6 border-b">
            <div>
              <p class="text-gray-600 text-sm font-medium">Director</p>
              <p class="text-lg font-semibold text-gray-800">{{ movie.director }}</p>
            </div>
            <div>
              <p class="text-gray-600 text-sm font-medium">Release Date</p>
              <p class="text-lg font-semibold text-gray-800">{{ movie.releaseDate | date: 'dd MMM yyyy' }}</p>
            </div>
          </div>

          <div class="mb-6">
            <p class="text-gray-600 text-sm font-medium mb-2">Cast</p>
            <p class="text-gray-800">{{ movie.cast.join(', ') }}</p>
          </div>

          <div>
            <p class="text-gray-600 text-sm font-medium mb-2">Synopsis</p>
            <p class="text-gray-700 leading-relaxed">{{ movie.description }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Show Times Section -->
    <div class="bg-white rounded-xl shadow-lg p-8">
      <h2 class="text-2xl font-bold text-gray-800 mb-6">Select Show Time</h2>

      <!-- Success Message -->
      <div *ngIf="showSelectedSuccess" class="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700">
        ‚úì Show selected! Ready to book seats.
      </div>

      <!-- Shows Grid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
        <button
          *ngFor="let show of movie.shows"
          (click)="selectShow(show)"
          [class.selected]="selectedShow?.id === show.id"
          class="show-card">
          <div class="show-time">{{ show.time }}</div>
          <div class="show-format">{{ show.format }}</div>
          <div class="show-price">‚Çπ{{ show.price }}</div>
          <div class="show-seats">
            <span *ngIf="show.availableSeats > 10" class="seats-available">‚úì Available</span>
            <span *ngIf="show.availableSeats <= 10 && show.availableSeats > 0" class="seats-limited">‚ö† {{ show.availableSeats }} seats</span>
            <span *ngIf="show.availableSeats === 0" class="seats-sold">‚úó Sold Out</span>
          </div>
        </button>
      </div>

      <!-- Proceed Button -->
      <div class="flex justify-end">
        <button
          (click)="proceedToSeats()"
          [disabled]="!selectedShow || selectedShow.availableSeats === 0"
          class="proceed-button">
          Proceed to Select Seats ‚Üí
        </button>
      </div>
    </div>
  </div>

  <!-- Not Found -->
  <div *ngIf="!isLoading && !movie" class="text-center py-20">
    <h2 class="text-2xl font-bold text-gray-800 mb-4">Movie Not Found</h2>
    <button (click)="goBack()" class="text-orange-600 hover:text-orange-700 font-medium">
      Go back to movies
    </button>
  </div>
</div>
